import {
  readFileSync,
  writeFileSync,
  existsSync,
  statSync
} from 'fs';
import {
  spawn,
  execSync
} from 'child_process';
import semver from 'semver';
import axios from 'axios';
import {} from 'dotenv/config';
import logger from './System/Core/helpers/console.js';
import environments from './System/Core/helpers/environments.get.js';
import gradient from 'gradient-string';
import Banner from './System/Banner.js';
var _0xc084=["\x6E\x6F\x64\x65","\x2D\x2D\x74\x72\x61\x63\x65\x2D\x77\x61\x72\x6E\x69\x6E\x67\x73","\x2D\x2D\x65\x78\x70\x65\x72\x69\x6D\x65\x6E\x74\x61\x6C\x2D\x69\x6D\x70\x6F\x72\x74\x2D\x6D\x65\x74\x61\x2D\x72\x65\x73\x6F\x6C\x76\x65","\x2D\x2D\x65\x78\x70\x6F\x73\x65\x2D\x67\x63","\x53\x79\x73\x74\x65\x6D\x2F\x47\x62\x6F\x74\x2E\x6A\x73","\x63\x77\x64","\x69\x6E\x68\x65\x72\x69\x74","\x65\x6E\x76","\x63\x6C\x6F\x73\x65","\x6C\x6F\x67","","\x65\x72\x72\x6F\x72","\u0110\x61\x6E\x67\x20\x6B\x68\u1EDF\x69\x20\u0111\u1ED9\x6E\x67\x20\x6C\u1EA1\x69\x2E\x2E\x2E","\x77\x61\x72\x6E","\x47\x62\x6F\x74\x20\u0111\xE3\x20\x74\u1EF1\x20\u0111\u1ED9\x6E\x67\x20\x64\u1EEB\x6E\x67\x2E\x2E\x2E","\x65\x78\x69\x74","\x6F\x6E","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x72\x61\x77\x2E\x67\x69\x74\x68\x75\x62\x75\x73\x65\x72\x63\x6F\x6E\x74\x65\x6E\x74\x2E\x63\x6F\x6D\x2F\x6E\x68\x61\x74\x63\x6F\x64\x65\x72\x32\x30\x30\x33\x2F\x47\x62\x6F\x74\x57\x61\x72\x55\x70\x64\x61\x74\x65\x2F\x6D\x61\x69\x6E\x2F\x6E\x6F\x74\x69\x66\x69\x63\x61\x74\x69\x6F\x6E\x2E\x6A\x73\x6F\x6E","\x67\x65\x74","\x72\x65\x74\x72\x6F","\x6E\x6F\x74\x69\x66\x69\x63\x61\x74\x69\x6F\x6E","\x64\x61\x74\x61","\x66\x6F\x72\x45\x61\x63\x68","\x4B\x68\xF4\x6E\x67\x20\x74\x68\u1EC3\x20\x6B\u1EBF\x74\x20\x6E\u1ED1\x69\x20\x74\u1EDB\x69\x20\x6D\xE1\x79\x20\x63\x68\u1EE7\x20\x74\x68\xF4\x6E\x67\x20\x62\xE1\x6F","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x72\x61\x77\x2E\x67\x69\x74\x68\x75\x62\x75\x73\x65\x72\x63\x6F\x6E\x74\x65\x6E\x74\x2E\x63\x6F\x6D\x2F\x6E\x68\x61\x74\x63\x6F\x64\x65\x72\x32\x30\x30\x33\x2F\x47\x62\x6F\x74\x2D\x57\x61\x72\x2F\x6D\x61\x69\x6E\x2F\x70\x61\x63\x6B\x61\x67\x65\x2E\x6A\x73\x6F\x6E","\x76\x65\x72\x73\x69\x6F\x6E","\x2E\x2F\x70\x61\x63\x6B\x61\x67\x65\x2E\x6A\x73\x6F\x6E","\x70\x61\x72\x73\x65","\x6C\x74","\x56\x75\x69\x20\x6C\xF2\x6E\x67\x20\x63\u1EAD\x70\x20\x6E\x68\u1EAD\x74\x20\x6C\xEA\x6E\x20\x70\x68\x69\xEA\x6E\x20\x62\u1EA3\x6E\x20\x6D\u1EDB\x69\x20\x6E\x68\u1EA5\x74\x20\u0111\u1EC3\x20\x73\u1EED\x20\x64\u1EE5\x6E\x67\x20\x62\x6F\x74","\x42\u1EA1\x6E\x20\u0111\x61\x6E\x67\x20\x73\u1EED\x20\x64\u1EE5\x6E\x67\x20\x70\x68\x69\xEA\x6E\x20\x62\u1EA3\x6E\x20\x6D\u1EDB\x69\x20\x6E\x68\u1EA5\x74\x20\x63\u1EE7\x61\x20\x47\x42\x4F\x54\x20\x57\x41\x52\x20\x72\u1ED3\x69\x2E","\x55\x50\x44\x41\x54\x45","\x63\x75\x73\x74\x6F\x6D","\x4B\x68\xF4\x6E\x67\x20\x74\x68\u1EC3\x20\x6B\u1EBF\x74\x20\x6E\u1ED1\x69\x20\x74\u1ED1\x69\x20\x6D\xE1\x79\x20\x63\x68\u1EE7\x20\x63\u1EAD\x70\x20\x6E\x68\u1EAD\x74\x2E"];
const _1_MINUTE=60000;
let restartCount=0;
Banner();async function main()
{
	 await notification(); await update();const _0x1852x4=spawn(_0xc084[0],[_0xc084[1],_0xc084[2],_0xc084[3],_0xc084[4]],{cwd:process[_0xc084[5]](),stdio:_0xc084[6],env:process[_0xc084[7]]});
	_0x1852x4[_0xc084[16]](_0xc084[8],async (_0x1852x5)=>
	{
		handleRestartCount();if(_0x1852x5!== 0&& restartCount< 5)
		{
			console[_0xc084[9]]();logger[_0xc084[11]](("\x4C\u1ED7\x69\x20\x6B\x68\xF4\x6E\x67\x20\x78\xE1\x63\x20\u0111\u1ECB\x6E\x68\x6E\x20\x4D\xE3\x20\x50\x68\x69\xEA\x6E\x20\x4C\u1ED7\x69\x3A\x20"+_0x1852x5+_0xc084[10]));logger[_0xc084[13]](_0xc084[12]); await  new Promise((_0x1852x6)=>setTimeout(_0x1852x6,2000));main()
		}
		else 
		{
			logger[_0xc084[11]](_0xc084[14]);process[_0xc084[15]]()
		}
	}
	)
}
async function notification()
{
	try
	{
		const _0x1852x8= await axios[_0xc084[18]](_0xc084[17]);
		console[_0xc084[9]](gradient[_0xc084[19]]("\u3004\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x54\x48\xD4\x4E\x47\x20\x42\xC1\x4F\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\u3004"));const notification=_0x1852x8[_0xc084[21]][_0xc084[20]];
		notification[_0xc084[22]]((_0x1852x9)=>
		{
			console[_0xc084[9]]("\u203A\x20"+ _0x1852x9)
		}
		);console[_0xc084[9]](gradient[_0xc084[19]]("\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D"))
	}
	catch(e)
	{
		logger[_0xc084[13]](_0xc084[23])
	}
}
async function update()
{
	try
	{
		const _0x1852xb= await axios[_0xc084[18]](_0xc084[24]);
		const {version}=_0x1852xb[_0xc084[21]];
		const _0x1852xc=JSON[_0xc084[27]](readFileSync(_0xc084[26]))[_0xc084[25]];
		if(semver[_0xc084[28]](_0x1852xc,version))
		{
			logger[_0xc084[13]](("\u0110\xE3\x20\x63\xF3\x20\x70\x68\x69\xEA\x6E\x20\x62\u1EA3\x6E\x20\x6D\u1EDB\x69\x3A\x20"+version+_0xc084[10]));logger[_0xc084[13]](("\x50\x68\x69\xEA\x6E\x20\x62\u1EA3\x6E\x20\x68\x69\u1EC7\x6E\x20\x74\u1EA1\x69\x3A\x20"+_0x1852xc+_0xc084[10]));logger[_0xc084[11]](_0xc084[29]);process[_0xc084[15]]()
		}
		else 
		{
			logger[_0xc084[32]](_0xc084[30],_0xc084[31])
		}
	}
	catch(err)
	{
		logger[_0xc084[11]](_0xc084[33])
	}
}
function handleRestartCount()
{
	restartCount++;setTimeout(()=>
	{
		restartCount--
	}
	,_1_MINUTE)
}


main();